services:
  newton-tournament:
    image: ghcr.io/skrodahl/newton:latest
    container_name: newton
    ports:
      - "${NEWTON_HOST_PORT:-8080}:2020"  # Host port configurable, internal port 2020 ("Double 20" ðŸŽ¯)
    volumes:
      # Persistent tournament storage
      - ./tournaments:/var/www/html/tournaments
      # Optional: Mount custom logo
      - ./logo.png:/var/www/html/logo.png:ro
      # Optional: Mount payment QR code
      - ./payment.png:/var/www/html/payment.png:ro
    restart: unless-stopped
    environment:
      # Timezone configuration
      - TZ=Europe/Oslo
      # Application configuration
      - NEWTON_API_ENABLED=true          # Set to 'false' to disable REST API endpoints
      - NEWTON_DEMO_MODE=false           # Set to 'true' to show demo banner (privacy notice)
      - NEWTON_GITHUB_URL=https://github.com/skrodahl/NewTon  # GitHub link in demo banner

  # For developers building from source:
  # Uncomment the section below and comment out the image section above
  #
  # newton-tournament:
  #   build:
  #     context: ..
  #     dockerfile: docker/Dockerfile
  #   container_name: newton
  #   ports:
  #     - "${NEWTON_HOST_PORT:-8080}:2020"  # Host port configurable, internal port 2020 ("Double 20" ðŸŽ¯)
  #   volumes:
  #     # Persistent tournament storage
  #     - ../tournaments:/var/www/html/tournaments
  #     # Optional: Mount custom logo
  #     - ../logo.png:/var/www/html/logo.png:ro
  #     # Optional: Mount payment QR code
  #     - ../payment.png:/var/www/html/payment.png:ro
  #   restart: unless-stopped
  #   environment:
  #     # Timezone configuration
  #     - TZ=Europe/Oslo
  #     # Application configuration
  #     - NEWTON_API_ENABLED=true          # Set to 'false' to disable REST API endpoints
  #     - NEWTON_DEMO_MODE=false           # Set to 'true' to show demo banner (privacy notice)
  #     - NEWTON_GITHUB_URL=https://github.com/skrodahl/NewTon  # GitHub link in demo banner
